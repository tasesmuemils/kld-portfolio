---
// import testImage from "../assets/test_image.jpg";
import SmallSliderItem from "./smallSliderItem.astro";
import video_6 from "../assets/video_6.mp4";
import video_7 from "../assets/video_7.mp4";
// import video_3 from "../assets/video_3.mp4";
// import video_10 from "../assets/video_10.mp4";
// import video_7 from "../assets/video_7.mp4";
// import video_6 from "../assets/video_6.mp4";
import { Icon } from "astro-icon/components";
---

<section class="grid justify-center mr-10 p-10 relative" id="container">
  <div id="small-slider" class="relative w-[337px] h-[600px]">
    <SmallSliderItem
      video={video_6}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    />
    <SmallSliderItem
      video={video_7}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    />
    <SmallSliderItem
      video={video_6}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    />
    <SmallSliderItem
      video={video_7}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    />
    <!-- <SmallSliderItem
      video={video_10}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    /> -->
    <!-- <SmallSliderItem
      video={video_7}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    />
    <SmallSliderItem
      video={video_6}
      title="TEST MAAAN"
      description="Loti skaists video ka liek milet savu tevzemi. Musu prezidents ir forss calis"
    /> -->
  </div>

  <div class="slider-buttons relative bottom-9 w-full text-center z-[222222]">
    <button id="small-prev" class=""
      ><Icon name="material-symbols-light:arrow-circle-left-rounded" /></button
    >
    <button id="small-next" class=""
      ><Icon name="material-symbols-light:arrow-circle-right-rounded" /></button
    >
  </div>
</section>

<style is:global>
  [data-icon] {
    color: #fff;
    width: 64px;
    height: 64px;
  }

  .small-slider-item:nth-child(1),
  .small-slider-item:nth-child(2),
  .small-slider-item:nth-child(3),
  .small-slider-item:nth-child(n + 4) {
    left: 0;
    top: 0;
    transform: translate(0, 0);
    width: 100%;
    height: 100%;
    box-shadow: none;
  }

  /* .small-slider-item:nth-child(2) .video-content:before {
    content: "";
    position: absolute;
    background: rgba(0, 0, 0, 0.143);
    border-radius: 1rem;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1;
  } */

  /* .small-slider-item:nth-child(3) {
    left: 80%;
  }

  .small-slider-item:nth-child(4) {
    left: calc(80% + 161px);
  }

  .small-slider-item:nth-child(5) {
    left: calc(80% + 342px);
    opacity: 0;
  }

  .small-slider-item:nth-child(n + 6) {
    left: calc(70% + 660px);
    opacity: 0;
  } */

  .small-slider-item:nth-child(2) .small-slider-item-content {
    display: block;
    z-index: 11111;
  }

  .small-slider-item-content h2 {
    opacity: 0;
    animation: showcontent 0.6s ease-in-out 1 forwards;
  }

  .small-slider-item-content p {
    opacity: 0;
    animation: showcontent 0.6s ease-in-out 0.1s 1 forwards;
  }

  .small-slider-item-content a {
    opacity: 0;
    animation: showcontent 0.6s ease-in-out 0.3s 1 forwards;
  }

  @keyframes showcontent {
    from {
      opacity: 0;
      transform: translate(0, 100px);
      filter: blur(33px);
    }
    to {
      opacity: 1;
      transform: translate(0, 0);
      filter: blur(0);
    }
  }
</style>

<script>
  document.getElementById("small-next").onclick = function () {
    let lists = document.querySelectorAll(".small-slider-item");
    console.log(lists);
    document.getElementById("small-slider").appendChild(lists[0]);
  };

  document.getElementById("small-prev").onclick = function () {
    let lists = document.querySelectorAll(".small-slider-item");
    document.getElementById("small-slider").prepend(lists[lists.length - 1]);
  };
</script>
